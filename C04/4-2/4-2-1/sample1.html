<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<meta name="viewport" content="user-scalable=no,initial-scale=1" />
<title>4-2-1sample</title>
<script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?sensor=true"></script> 
<script type="text/javascript">
function initialize(){
	map = new google.maps.Map(
		document.getElementById("gmap"),{
			zoom : 14,
			center : new google.maps.LatLng(35.68916, 139.70083),
			mapTypeControlOptions : {
			       style : google.maps.MapTypeControlStyle.DROPDOWN_MENU
			},
			navigationControlOptions : {
				style : google.maps.NavigationControlStyle.SMALL
			},
			scaleControl:true,
			scaleControlOptions : {
			       style : google.maps.ScaleControlStyle.DEFAULT
			},
			mapTypeId : google.maps.MapTypeId.ROADMAP
		}
	);
//1:位置情報を取得する
	if(navigator.geolocation){//1
		navigator.geolocation.getCurrentPosition(function(pos){
			var lat = pos.coords.latitude;
			var lng = pos.coords.longitude;
			var currentPos = new google.maps.LatLng(lat, lng);
			map.setCenter(currentPos);
		},
		function(error){alert('error:'+error.code);},
		{enableHighAccuracy:false,timeout:8000,maximumAge:0}
		);
	}
//2:アドレスバーを隠す
	setTimeout(scrollTo, 100, 0, 1);
}
google.maps.event.addDomListener(window,"load",initialize);
</script>
<style type="text/css" />
#gmap {
	position : absolute;
	width:100%;	height:100%;
}
</style>
</head>
<body>
<div id="gmap"></div> 
</body>
</html>
